<mujocoinclude>

  <compiler angle="radian" meshdir="wonik_allegro/assets" texturedir='../../../dependencies/Adroit/resources/textures/'/>

  <option cone="elliptic" impratio="10"/>

  <default>
    <default class="allegro_left">
      <joint axis="0 1 0" damping=".1"/>
      <position kp="1"/>
      <geom density="800"/>

      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2" material="black"/>
        <default class="palm_visual">
          <geom mesh="base_link"/>
        </default>
        <default class="base_visual">
          <geom mesh="link_0.0"/>
        </default>
        <default class="proximal_visual">
          <geom mesh="link_1.0"/>
        </default>
        <default class="medial_visual">
          <geom mesh="link_2.0"/>
        </default>
        <default class="distal_visual">
          <geom mesh="link_3.0"/>
        </default>
        <default class="fingertip_visual">
          <geom pos="0 0 0.0267" material="white" mesh="link_3.0_tip"/>
        </default>
        <default class="thumbtip_visual">
          <geom pos="0 0 0.0423" material="white" mesh="link_15.0_tip"/>
        </default>
      </default>

      <default class="collision">
        <geom group="3" type="box" mass="0"/>
        <default class="palm_collision">
          <geom size="0.0204 0.0565 0.0475" pos="-0.0093 0 -0.0475"/>
        </default>
        <default class="base_collision">
          <geom size="0.0098 0.01375 0.0082" pos="0 0 0.0082"/>
          <default class="thumb_base_collision">
            <geom size="0.0179 0.017 0.02275" pos="-0.0179 0.009 0.0145"/>
          </default>
        </default>
        <default class="proximal_collision">
          <geom size="0.0098 0.01375 0.027" pos="0 0 0.027"/>
          <default class="thumb_proximal_collision">
            <geom size="0.0098 0.01375 0.00885" pos="0 0 0.00885"/>
          </default>
        </default>
        <default class="medial_collision">
          <geom size="0.0098 0.01375 0.0192" pos="0 0 0.0192"/>
          <default class="thumb_medial_collision">
            <geom size="0.0098 0.01375 0.0257" pos="0 0 0.0257"/>
          </default>
        </default>
        <default class="distal_collision">
          <geom size="0.0098 0.01375 0.008" pos="0 0 0.008"/>
          <default class="thumb_distal_collision">
            <geom size="0.0098 0.01375 0.0157" pos="0 0 0.0157"/>
          </default>
        </default>
        <default class="fingertip_collision">
          <geom type="capsule" size="0.012 0.01" pos="0 0 0.019"/>
          <default class="thumbtip_collision">
            <geom type="capsule" size="0.012 0.008" pos="0 0 0.035"/>
          </default>
        </default>
      </default>

      <default class="base">
        <joint axis="0 0 1" range="-0.47 0.47"/>
        <position ctrlrange="-0.47 0.47"/>
      </default>
      <default class="proximal">
        <joint range="-0.196 1.61"/>
        <position ctrlrange="-0.196 1.61"/>
      </default>
      <default class="medial">
        <joint range="-0.174 1.709"/>
        <position ctrlrange="-0.174 1.709"/>
      </default>
      <default class="distal">
        <joint range="-0.227 1.618"/>
        <position ctrlrange="-0.227 1.618"/>
      </default>
      <default class="thumb_base">
        <joint axis="1 0 0" range="0.263 1.396"/>
        <position ctrlrange="0.263 1.396"/>
      </default>
      <default class="thumb_proximal">
        <joint axis="0 0 -1" range="-0.105 1.163"/>
        <position ctrlrange="-0.105 1.163"/>
      </default>
      <default class="thumb_medial">
        <joint range="-0.189 1.644"/>
        <position ctrlrange="-0.189 1.644"/>
      </default>
      <default class="thumb_distal">
        <joint range="-0.162 1.719"/>
        <position ctrlrange="-0.162 1.719"/>
      </default>
    </default>
  </default>
  
  <asset>
    <material name="black" rgba="0.2 0.2 0.2 1"/>
    <material name="white" rgba="0.9 0.9 0.9 1"/>
    <material name="red" rgba="0.9 0.1 0.1 1"/>

    <mesh file="base_link_left.stl"/>
    <mesh file="link_0.0.stl"/>
    <mesh file="link_1.0.stl"/>
    <mesh file="link_2.0.stl"/>
    <mesh file="link_3.0.stl"/>
    <mesh file="link_3.0_tip.stl"/>
    <mesh file="link_12.0_left.stl"/>
    <mesh file="link_13.0.stl"/>
    <mesh file="link_14.0.stl"/>
    <mesh file="link_15.0.stl"/>
    <mesh file="link_15.0_tip.stl"/>

    <texture type="cube" name="texgeom" builtin="flat" mark="cross" rgb1="0.3 0.6 0.5" rgb2="0.3 0.6 0.5" width="127" height="762" />
    <texture type="cube" name="wood" file="wood.png" />
    <texture type="2d" name="wood2d" file="wood.png" />
    <texture type="cube" name="square" file="square.png" />
    <texture type="cube" name="foil" file="silverRaw.png" />
    <texture type="cube" name="woodb" file="woodb.png" />
    <texture type="2d" name="groundplane" builtin="checker" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" width="100" height="100" />
    <texture type="2d" name="marble2d" file="marble.png" />
    <texture type="cube" name="marblecube" file="marble.png" />
    <material name="MatColl" specular="1" shininess="0.3" reflectance="0.5" rgba="0.4 0.5 0.6 1" />
    <material name="MatViz" specular="0.75" shininess="0.1" reflectance="0.5" rgba="0.9 0.7 0.5 1" />
    <material name="MatGnd" specular="0.3" shininess="0.3" reflectance="0.3" rgba="0.5 0.55 0.5 1" />
    <material name="object" texture="texgeom" />
    <material name="groundplane" texture="groundplane" texrepeat="10 10" />
    <material name="table2d" texture="marble2d" reflectance="0.3" rgba="0.8 0.8 0.8 1" />
    <material name="tablecube" texture="marblecube" rgba="0.8 0.8 0.8 1" />
    <material name="MatFoil" texture="foil" specular="1" shininess="0.3" rgba="0.9 0.9 0.9 1" />
    <material name="MatPlane" specular="0.3" shininess="0.3" rgba="0.3 0.3 0.2 1" />
    <material name="MatWood" texture="wood" texrepeat="3 3" specular="0.4" shininess="0.1" />
    <material name="MatSquare" texture="square" specular="1" shininess="0.6" rgba="0.8 0.8 0.8 1" />
    <material name="MatWoodR" texture="wood" specular="1" shininess="0.3" rgba="1 0.5 0.5 1" />
    <material name="MatWoodG" texture="wood" specular="1" shininess="0.3" rgba="0.2 1 0.2 1" />
    <material name="MatWoodB" texture="woodb" specular="1" shininess="0.3" />
    <mesh name="forearm_simple" file="forearm_simple.stl" scale="1 1 1"/>
    <mesh name="wrist" file="wrist.stl" />
    <mesh name="palm" file="palm.stl" />
    <mesh name="lfmetacarpal" file="lfmetacarpal.stl" />
    <mesh name="knuckle" file="knuckle.stl" />
    <mesh name="F3" file="F3.stl" />
    <mesh name="F2" file="F2.stl" />
    <mesh name="F1" file="F1.stl" />
    <mesh name="TH3_z" file="TH3_z.stl" />
    <mesh name="TH2_z" file="TH2_z.stl" />
    <mesh name="TH1_z" file="TH1_z.stl" />
  </asset>

  <contact>
    <exclude body1="palm" body2="ff_base"/>
    <exclude body1="palm" body2="mf_base"/>
    <exclude body1="palm" body2="rf_base"/>
    <exclude body1="palm" body2="th_base"/>
    <exclude body1="palm" body2="th_proximal"/>
  </contact>

  <actuator>
    <position name="ffa0" joint="ffj0" class="base"/>
    <position name="ffa1" joint="ffj1" class="proximal"/>
    <position name="ffa2" joint="ffj2" class="medial"/>
    <position name="ffa3" joint="ffj3" class="distal"/>
    <position name="mfa0" joint="mfj0" class="base"/>
    <position name="mfa1" joint="mfj1" class="proximal"/>
    <position name="mfa2" joint="mfj2" class="medial"/>
    <position name="mfa3" joint="mfj3" class="distal"/>
    <position name="rfa0" joint="rfj0" class="base"/>
    <position name="rfa1" joint="rfj1" class="proximal"/>
    <position name="rfa2" joint="rfj2" class="medial"/>
    <position name="rfa3" joint="rfj3" class="distal"/>
    <position name="tha0" joint="thj0" class="thumb_base"/>
    <position name="tha1" joint="thj1" class="thumb_proximal"/>
    <position name="tha2" joint="thj2" class="thumb_medial"/>
    <position name="tha3" joint="thj3" class="thumb_distal"/>
  </actuator>
</mujocoinclude>